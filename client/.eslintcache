[{"/Users/javipart/Develop/keybe/client/src/index.js":"1","/Users/javipart/Develop/keybe/client/src/reportWebVitals.js":"2","/Users/javipart/Develop/keybe/client/src/App.js":"3","/Users/javipart/Develop/keybe/client/src/pages/Index.js":"4","/Users/javipart/Develop/keybe/client/src/components/Form.js":"5","/Users/javipart/Develop/keybe/client/src/api/usersApi.js":"6","/Users/javipart/Develop/keybe/client/src/api/index.js":"7","/Users/javipart/Develop/keybe/client/src/api/roomsApi.js":"8","/Users/javipart/Develop/keybe/client/src/api/socketApi.js":"9","/Users/javipart/Develop/keybe/client/src/components/Chat.js":"10","/Users/javipart/Develop/keybe/client/src/models/events.js":"11","/Users/javipart/Develop/keybe/client/src/pages/Agent.js":"12","/Users/javipart/Develop/keybe/client/src/api/agentsApi.js":"13"},{"size":500,"mtime":1610496060130,"results":"14","hashOfConfig":"15"},{"size":362,"mtime":1610496060131,"results":"16","hashOfConfig":"15"},{"size":348,"mtime":1610721555720,"results":"17","hashOfConfig":"15"},{"size":3966,"mtime":1610719538756,"results":"18","hashOfConfig":"15"},{"size":1728,"mtime":1610663397421,"results":"19","hashOfConfig":"15"},{"size":157,"mtime":1610639805518,"results":"20","hashOfConfig":"15"},{"size":278,"mtime":1610639350016,"results":"21","hashOfConfig":"15"},{"size":437,"mtime":1610724113089,"results":"22","hashOfConfig":"15"},{"size":781,"mtime":1610716369358,"results":"23","hashOfConfig":"15"},{"size":1428,"mtime":1610719636632,"results":"24","hashOfConfig":"15"},{"size":89,"mtime":1610720811633,"results":"25","hashOfConfig":"15"},{"size":5907,"mtime":1610731911201,"results":"26","hashOfConfig":"15"},{"size":154,"mtime":1610721576854,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"bpxtmh",{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"30"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40","usedDeprecatedRules":"30"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"30"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"30"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"57","messages":"58","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/javipart/Develop/keybe/client/src/index.js",[],["59","60"],"/Users/javipart/Develop/keybe/client/src/reportWebVitals.js",[],"/Users/javipart/Develop/keybe/client/src/App.js",[],"/Users/javipart/Develop/keybe/client/src/pages/Index.js",["61","62","63","64","65","66","67","68"],"import React, { useEffect, useState } from 'react';\n\nimport {\n  Toolbar, AppBar,\n  IconButton, Typography,\n  Button, Fab, Popover, Box, Grid, Card, Paper,\n} from '@material-ui/core';\n\nimport {\n  Menu, Message\n} from '@material-ui/icons';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Form from '../components/Form';\nimport Chat from '../components/Chat';\nimport usersApi from '../api/usersApi';\nimport roomsApi from '../api/roomsApi';\nimport {\n  initSocket,\n  disconnectSocket,\n  subscribeToChat,\n  sendMessageChat,\n} from '../api/socketApi';\n\nconst io = require('socket.io-client');\nconst socket = io('http://localhost:3011/');\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'relative',\n    minHeight: 700,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(2),\n    right: theme.spacing(2),\n  }\n}));\n\nconst Index = () => {\n  const [formView, setFormView] = useState(false);\n  const [chatView, setChatView] = useState(false);\n  const [idChat, setIdChat] = useState(null);\n  const [idChatUser, setIdChatUser] = useState(null);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [form, setForm] = useState({\n    name: '',\n    lastName: '',\n    doc: '',\n    phone: '',\n  });\n  const [conversation, setConversation] = useState([]);\n\n  const classes = useStyles();\n\n  const handleClick = () => {\n    setFormView(true);\n  };\n\n  const handleForm = (e) => {\n    const { id, value } = e.target;\n    setForm({ ...form, [id]: value });\n  };\n\n  const saveForm = () => {\n    const fieldId = '_id'\n    usersApi.save(form)\n      .then((result) => {\n        const { data: user } = result;\n        const idUser = user[fieldId];\n        setIdChatUser(idUser);\n        roomsApi.save({\n          user: idUser,\n          agent: '60006ea70129143b78a78bb6',\n          chat: {\n            transmitter: idUser,\n            message: 'Hola',\n          }\n        }).then((resultRoom) => {\n          const { data: room } = resultRoom;\n          setChatView(true);\n          setIdChat(room[fieldId]);\n          const firstMessage = room.chat.shift();\n          setConversation(conversation => [...conversation, firstMessage]);\n        })\n      });\n  };\n\n  const pushMessage = (data) => {\n    setConversation(conversation => [...conversation, data]);\n  };\n\n  const sendMessage = (data) => {\n    roomsApi.pushMessage(data);\n  };\n\n\n\n  useEffect(() => {\n    if (idChat) {\n      initSocket();\n      subscribeToChat(idChat, pushMessage);\n      return () => {\n        disconnectSocket();\n      };\n    }\n  }, [idChat]);\n\n  return (\n    <div className={classes.root}>\n      <AppBar>\n        <Toolbar>\n          <Typography variant=\"h6\" className={classes.title}>\n            My Test\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <Fab\n        color=\"primary\"\n        aria-label=\"edit\"\n        className={classes.fab}\n        onClick={(e) => {\n          handleClick();\n          setAnchorEl(e.currentTarget);\n        }}>\n        <Message />\n      </Fab>\n      <Popover\n        id={'form'}\n        open={formView}\n        anchorEl={anchorEl}\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'right',\n        }}\n        transformOrigin={{\n          vertical: 'bottom',\n          horizontal: 'right',\n        }}\n      >\n        <Paper style={{\n          padding: 1,\n          margin: 'auto',\n          minWidth: 300,\n          minHeight: 200,\n        }}>\n          {chatView && idChat\n            ? <Chat\n              idChat={idChat}\n              idChatUser={idChatUser}\n              sendMessage={sendMessage}\n              pushMessage={pushMessage}\n              conversation={conversation}\n            />\n            : <Form\n              form={form}\n              handleForm={handleForm}\n              saveForm={saveForm}\n            />}\n        </Paper>\n      </Popover>\n    </div>\n  );\n}\n\nexport default Index;","/Users/javipart/Develop/keybe/client/src/components/Form.js",["69","70"],"import React, { useEffect, useState } from 'react';\n\nimport {\n  Button,\n  Grid,\n  TextField,\n} from '@material-ui/core';\n\nimport {\n  Send\n} from '@material-ui/icons';\n\nconst Form = ({ form, handleForm, saveForm }) => {\n\n\n  return (\n    <Grid\n      container\n      spacing={2}\n    >\n      <Grid\n        item xs={12}\n        sm container\n      >\n        <Grid item container direction='column' spacing={2}>\n          <Grid item xs>\n            <TextField\n              id={'name'}\n              label={'Nombre'}\n              value={form.name}\n              onChange={handleForm}\n              fullWidth\n            />\n            <Grid item xs>\n              <TextField\n                id={'lastName'}\n                label={'Apellido'}\n                value={form.lastName}\n                onChange={handleForm}\n                fullWidth\n              />\n            </Grid>\n            <Grid item xs>\n              <TextField\n                id={'doc'}\n                label={'Documento'}\n                value={form.id}\n                onChange={handleForm}\n                fullWidth\n              />\n            </Grid>\n            <Grid item xs>\n              <TextField\n                id={'phone'}\n                label={'Celular'}\n                value={form.phone}\n                onChange={handleForm}\n                fullWidth\n              />\n            </Grid>\n            <Grid item xs style={{ textAlign: 'right' }}>\n              <Button\n                endIcon={<Send />}\n                color=\"primary\"\n                onClick={saveForm}\n              >\n                Iniciar\n              </Button>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n}\n\nexport default Form;","/Users/javipart/Develop/keybe/client/src/api/usersApi.js",["71"],"import { instance, apiGetData } from './index';\n\nexport default class {\n  static save(data) {\n    return instance.post('users', data).then(apiGetData);\n  }\n}","/Users/javipart/Develop/keybe/client/src/api/index.js",[],"/Users/javipart/Develop/keybe/client/src/api/roomsApi.js",["72"],"/Users/javipart/Develop/keybe/client/src/api/socketApi.js",[],"/Users/javipart/Develop/keybe/client/src/components/Chat.js",["73","74","75"],"import React, { useEffect, useState } from 'react';\n\nimport io from 'socket.io-client';\n\nimport {\n  Button,\n  Grid,\n  IconButton,\n  ListItemText,\n  TextField,\n  List,\n  ListItem,\n  Paper,\n} from '@material-ui/core';\n\nimport {\n  Send\n} from '@material-ui/icons';\n\nconst Chat = ({ idChat, idChatUser, message = {}, sendMessage, pushMessage, conversation }) => {\n  const [data, setData] = useState({\n    transmitter: idChatUser,\n    message: '',\n  });\n\n  const allMessages = conversation.map((item) => (\n    <ListItem>\n      <Grid item>\n        <ListItemText primary={item.message} />\n      </Grid>\n    </ListItem>\n  ));\n\n  return (\n    <>\n      <Grid item xs={12}>\n        <List style={{\n          overflowY: 'auto',\n        }}>\n          {allMessages}\n        </List>\n      </Grid>\n      <Paper style={{\n        padding: '2px 4px',\n        display: 'flex',\n        alignItems: 'center',\n        minWidth: 340,\n        minHeight: 200,\n        bottom: '0px',\n      }}>\n        <TextField\n          id={'message'}\n          label={'Mensaje'}\n          value={data.message}\n          onChange={(e) =>\n            setData({ ...data, message: e.target.value })\n          }\n          fullWidth\n        />\n        <IconButton onClick={() => {\n          sendMessage({ id: idChat, data });\n          setData({ ...data, message: '' });\n        }}>\n          <Send />\n        </IconButton>\n      </Paper>\n    </>\n  );\n}\n\nexport default Chat;","/Users/javipart/Develop/keybe/client/src/models/events.js",[],"/Users/javipart/Develop/keybe/client/src/pages/Agent.js",["76","77","78","79","80","81","82","83","84","85","86"],"/Users/javipart/Develop/keybe/client/src/api/agentsApi.js",["87"],{"ruleId":"88","replacedBy":"89"},{"ruleId":"90","replacedBy":"91"},{"ruleId":"92","severity":1,"message":"93","line":5,"column":3,"nodeType":"94","messageId":"95","endLine":5,"endColumn":13},{"ruleId":"92","severity":1,"message":"96","line":6,"column":3,"nodeType":"94","messageId":"95","endLine":6,"endColumn":9},{"ruleId":"92","severity":1,"message":"97","line":6,"column":25,"nodeType":"94","messageId":"95","endLine":6,"endColumn":28},{"ruleId":"92","severity":1,"message":"98","line":6,"column":30,"nodeType":"94","messageId":"95","endLine":6,"endColumn":34},{"ruleId":"92","severity":1,"message":"99","line":6,"column":36,"nodeType":"94","messageId":"95","endLine":6,"endColumn":40},{"ruleId":"92","severity":1,"message":"100","line":10,"column":3,"nodeType":"94","messageId":"95","endLine":10,"endColumn":7},{"ruleId":"92","severity":1,"message":"101","line":22,"column":3,"nodeType":"94","messageId":"95","endLine":22,"endColumn":18},{"ruleId":"92","severity":1,"message":"102","line":26,"column":7,"nodeType":"94","messageId":"95","endLine":26,"endColumn":13},{"ruleId":"92","severity":1,"message":"103","line":1,"column":17,"nodeType":"94","messageId":"95","endLine":1,"endColumn":26},{"ruleId":"92","severity":1,"message":"104","line":1,"column":28,"nodeType":"94","messageId":"95","endLine":1,"endColumn":36},{"ruleId":"105","severity":1,"message":"106","line":3,"column":1,"nodeType":"107","endLine":7,"endColumn":2},{"ruleId":"105","severity":1,"message":"106","line":3,"column":1,"nodeType":"107","endLine":18,"endColumn":2},{"ruleId":"92","severity":1,"message":"103","line":1,"column":17,"nodeType":"94","messageId":"95","endLine":1,"endColumn":26},{"ruleId":"92","severity":1,"message":"108","line":3,"column":8,"nodeType":"94","messageId":"95","endLine":3,"endColumn":10},{"ruleId":"92","severity":1,"message":"96","line":6,"column":3,"nodeType":"94","messageId":"95","endLine":6,"endColumn":9},{"ruleId":"92","severity":1,"message":"109","line":4,"column":3,"nodeType":"94","messageId":"95","endLine":4,"endColumn":10},{"ruleId":"92","severity":1,"message":"110","line":4,"column":12,"nodeType":"94","messageId":"95","endLine":4,"endColumn":18},{"ruleId":"92","severity":1,"message":"93","line":5,"column":3,"nodeType":"94","messageId":"95","endLine":5,"endColumn":13},{"ruleId":"92","severity":1,"message":"111","line":6,"column":16,"nodeType":"94","messageId":"95","endLine":6,"endColumn":23},{"ruleId":"92","severity":1,"message":"97","line":7,"column":3,"nodeType":"94","messageId":"95","endLine":7,"endColumn":6},{"ruleId":"92","severity":1,"message":"112","line":17,"column":8,"nodeType":"94","messageId":"95","endLine":17,"endColumn":12},{"ruleId":"92","severity":1,"message":"113","line":18,"column":8,"nodeType":"94","messageId":"95","endLine":18,"endColumn":16},{"ruleId":"92","severity":1,"message":"101","line":21,"column":40,"nodeType":"94","messageId":"95","endLine":21,"endColumn":55},{"ruleId":"92","severity":1,"message":"114","line":65,"column":15,"nodeType":"94","messageId":"95","endLine":65,"endColumn":22},{"ruleId":"92","severity":1,"message":"114","line":69,"column":19,"nodeType":"94","messageId":"95","endLine":69,"endColumn":26},{"ruleId":"92","severity":1,"message":"114","line":126,"column":15,"nodeType":"94","messageId":"95","endLine":126,"endColumn":22},{"ruleId":"105","severity":1,"message":"106","line":3,"column":1,"nodeType":"107","endLine":7,"endColumn":2},"no-native-reassign",["115"],"no-negated-in-lhs",["116"],"no-unused-vars","'IconButton' is defined but never used.","Identifier","unusedVar","'Button' is defined but never used.","'Box' is defined but never used.","'Grid' is defined but never used.","'Card' is defined but never used.","'Menu' is defined but never used.","'sendMessageChat' is defined but never used.","'socket' is assigned a value but never used.","'useEffect' is defined but never used.","'useState' is defined but never used.","import/no-anonymous-default-export","Unexpected default export of anonymous class","ExportDefaultDeclaration","'io' is defined but never used.","'Toolbar' is defined but never used.","'AppBar' is defined but never used.","'Popover' is defined but never used.","'Form' is defined but never used.","'usersApi' is defined but never used.","'success' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]