[{"/Users/javipart/Develop/keybe/client/src/index.js":"1","/Users/javipart/Develop/keybe/client/src/reportWebVitals.js":"2","/Users/javipart/Develop/keybe/client/src/App.js":"3","/Users/javipart/Develop/keybe/client/src/pages/Index.js":"4","/Users/javipart/Develop/keybe/client/src/components/Form.js":"5","/Users/javipart/Develop/keybe/client/src/api/usersApi.js":"6","/Users/javipart/Develop/keybe/client/src/api/index.js":"7","/Users/javipart/Develop/keybe/client/src/api/roomsApi.js":"8","/Users/javipart/Develop/keybe/client/src/api/socketApi.js":"9","/Users/javipart/Develop/keybe/client/src/components/Chat.js":"10"},{"size":500,"mtime":1610496060130,"results":"11","hashOfConfig":"12"},{"size":362,"mtime":1610496060131,"results":"13","hashOfConfig":"12"},{"size":196,"mtime":1610497789778,"results":"14","hashOfConfig":"12"},{"size":3503,"mtime":1610671996240,"results":"15","hashOfConfig":"12"},{"size":1728,"mtime":1610663397421,"results":"16","hashOfConfig":"12"},{"size":157,"mtime":1610639805518,"results":"17","hashOfConfig":"12"},{"size":278,"mtime":1610639350016,"results":"18","hashOfConfig":"12"},{"size":256,"mtime":1610667685327,"results":"19","hashOfConfig":"12"},{"size":283,"mtime":1610672226950,"results":"20","hashOfConfig":"12"},{"size":1742,"mtime":1610674740682,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"bpxtmh",{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"24"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"24"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"24"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"24"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"24"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"24"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/javipart/Develop/keybe/client/src/index.js",[],["49","50"],"/Users/javipart/Develop/keybe/client/src/reportWebVitals.js",[],"/Users/javipart/Develop/keybe/client/src/App.js",["51"],"import logo from './logo.svg';\nimport './App.css';\nimport Index from './pages/Index';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Index />\n    </div>\n  );\n}\n\nexport default App;\n","/Users/javipart/Develop/keybe/client/src/pages/Index.js",["52","53","54","55","56","57","58","59","60"],"import React, { useEffect, useState } from 'react';\n\nimport {\n  Toolbar, AppBar,\n  IconButton, Typography,\n  Button, Fab, Popover, Box, Grid, Card, Paper,\n} from '@material-ui/core';\n\nimport {\n  Menu, Message\n} from '@material-ui/icons';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Form from '../components/Form';\nimport Chat from '../components/Chat';\nimport usersApi from '../api/usersApi';\nimport roomsApi from '../api/roomsApi';\nimport socketApi from '../api/socketApi';\n\nconst io = require('socket.io-client');\nconst socket = io('http://localhost:3011/');\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'relative',\n    minHeight: 700,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n  fab: {\n    position: 'absolute',\n    bottom: theme.spacing(2),\n    right: theme.spacing(2),\n  }\n}));\n\nconst Index = () => {\n  const [formView, setFormView] = useState(false);\n  const [chatView, setChatView] = useState(false);\n  const [idChat, setIdChat] = useState(null);\n  const [idChatUser, setIdChatUser] = useState(null);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [form, setForm] = useState({\n    name: '',\n    lastName: '',\n    doc: '',\n    phone: '',\n  });\n\n  const classes = useStyles();\n\n  const handleClick = () => {\n    setFormView(true);\n  };\n\n  const handleForm = (e) => {\n    const { id, value } = e.target;\n    setForm({ ...form, [id]: value });\n  };\n\n  const saveForm = () => {\n    const fieldId = '_id'\n    usersApi.save(form)\n      .then((result) => {\n        const { data: user } = result;\n        const idUser = user[fieldId];\n        setIdChatUser(idUser);\n        roomsApi.save({\n          user: idUser,\n          agent: '60006ea70129143b78a78bb6',\n          chat: {\n            transmitter: idUser,\n            message: 'Hola',\n          }\n        }).then((resultRoom) => {\n          const { data: room } = resultRoom;\n          setChatView(true);\n          setIdChat(room[fieldId]);\n        })\n      });\n  };\n\n  const pushMessage = (data) => {\n    console.log(data);\n  };\n\n  const sendMessage = (data) => {\n    roomsApi.pushMessage(data).then((result) => {\n      console.log(result)\n    })\n  };\n\n  return (\n    <div className={classes.root}>\n      <AppBar>\n        <Toolbar>\n          <Typography variant=\"h6\" className={classes.title}>\n            My Test\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <Fab\n        color=\"primary\"\n        aria-label=\"edit\"\n        className={classes.fab}\n        onClick={(e) => {\n          handleClick();\n          setAnchorEl(e.currentTarget);\n        }}>\n        <Message />\n      </Fab>\n      <Popover\n        id={'form'}\n        open={formView}\n        anchorEl={anchorEl}\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'right',\n        }}\n        transformOrigin={{\n          vertical: 'bottom',\n          horizontal: 'right',\n        }}\n      >\n        <Paper style={{\n          padding: 1,\n          margin: 'auto',\n          minWidth: 300,\n          minHeight: 200,\n        }}>\n          {chatView && idChat\n            ? <Chat\n              idChat={idChat}\n              idChatUser={idChatUser}\n              sendMessage={sendMessage}\n              pushMessage={pushMessage}\n            />\n            : <Form\n              form={form}\n              handleForm={handleForm}\n              saveForm={saveForm}\n            />}\n        </Paper>\n      </Popover>\n    </div>\n  );\n}\n\nexport default Index;","/Users/javipart/Develop/keybe/client/src/components/Form.js",["61","62"],"import React, { useEffect, useState } from 'react';\n\nimport {\n  Button,\n  Grid,\n  TextField,\n} from '@material-ui/core';\n\nimport {\n  Send\n} from '@material-ui/icons';\n\nconst Form = ({ form, handleForm, saveForm }) => {\n\n\n  return (\n    <Grid\n      container\n      spacing={2}\n    >\n      <Grid\n        item xs={12}\n        sm container\n      >\n        <Grid item container direction='column' spacing={2}>\n          <Grid item xs>\n            <TextField\n              id={'name'}\n              label={'Nombre'}\n              value={form.name}\n              onChange={handleForm}\n              fullWidth\n            />\n            <Grid item xs>\n              <TextField\n                id={'lastName'}\n                label={'Apellido'}\n                value={form.lastName}\n                onChange={handleForm}\n                fullWidth\n              />\n            </Grid>\n            <Grid item xs>\n              <TextField\n                id={'doc'}\n                label={'Documento'}\n                value={form.id}\n                onChange={handleForm}\n                fullWidth\n              />\n            </Grid>\n            <Grid item xs>\n              <TextField\n                id={'phone'}\n                label={'Celular'}\n                value={form.phone}\n                onChange={handleForm}\n                fullWidth\n              />\n            </Grid>\n            <Grid item xs style={{ textAlign: 'right' }}>\n              <Button\n                endIcon={<Send />}\n                color=\"primary\"\n                onClick={saveForm}\n              >\n                Iniciar\n              </Button>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n}\n\nexport default Form;","/Users/javipart/Develop/keybe/client/src/api/usersApi.js",["63"],"import { instance, apiGetData } from './index';\n\nexport default class {\n  static save(data) {\n    return instance.post('users', data).then(apiGetData);\n  }\n}","/Users/javipart/Develop/keybe/client/src/api/index.js",[],"/Users/javipart/Develop/keybe/client/src/api/roomsApi.js",["64"],"import { instance, apiGetData } from './index';\n\nexport default class {\n  static save(data) {\n    return instance.post('rooms', data).then(apiGetData);\n  }\n  static pushMessage(data) {\n    return instance.post('rooms/message', data).then(apiGetData);\n  }\n}","/Users/javipart/Develop/keybe/client/src/api/socketApi.js",["65"],"import io from 'socket.io-client';\nconst SERVER_SOCKET = 'http://localhost:3011/';\n\nconst listener = io(SERVER_SOCKET);\n\nexport default {\n  io: listener,\n  connect: (event, cb) => {\n    listener.on(event, cb);\n  },\n  disconnect: (event, cb) => {\n    listener.off(event, cb);\n  },\n};\n","/Users/javipart/Develop/keybe/client/src/components/Chat.js",["66","67"],{"ruleId":"68","replacedBy":"69"},{"ruleId":"70","replacedBy":"71"},{"ruleId":"72","severity":1,"message":"73","line":1,"column":8,"nodeType":"74","messageId":"75","endLine":1,"endColumn":12},{"ruleId":"72","severity":1,"message":"76","line":1,"column":17,"nodeType":"74","messageId":"75","endLine":1,"endColumn":26},{"ruleId":"72","severity":1,"message":"77","line":5,"column":3,"nodeType":"74","messageId":"75","endLine":5,"endColumn":13},{"ruleId":"72","severity":1,"message":"78","line":6,"column":3,"nodeType":"74","messageId":"75","endLine":6,"endColumn":9},{"ruleId":"72","severity":1,"message":"79","line":6,"column":25,"nodeType":"74","messageId":"75","endLine":6,"endColumn":28},{"ruleId":"72","severity":1,"message":"80","line":6,"column":30,"nodeType":"74","messageId":"75","endLine":6,"endColumn":34},{"ruleId":"72","severity":1,"message":"81","line":6,"column":36,"nodeType":"74","messageId":"75","endLine":6,"endColumn":40},{"ruleId":"72","severity":1,"message":"82","line":10,"column":3,"nodeType":"74","messageId":"75","endLine":10,"endColumn":7},{"ruleId":"72","severity":1,"message":"83","line":18,"column":8,"nodeType":"74","messageId":"75","endLine":18,"endColumn":17},{"ruleId":"72","severity":1,"message":"84","line":21,"column":7,"nodeType":"74","messageId":"75","endLine":21,"endColumn":13},{"ruleId":"72","severity":1,"message":"76","line":1,"column":17,"nodeType":"74","messageId":"75","endLine":1,"endColumn":26},{"ruleId":"72","severity":1,"message":"85","line":1,"column":28,"nodeType":"74","messageId":"75","endLine":1,"endColumn":36},{"ruleId":"86","severity":1,"message":"87","line":3,"column":1,"nodeType":"88","endLine":7,"endColumn":2},{"ruleId":"86","severity":1,"message":"87","line":3,"column":1,"nodeType":"88","endLine":10,"endColumn":2},{"ruleId":"86","severity":1,"message":"89","line":6,"column":1,"nodeType":"88","endLine":14,"endColumn":3},{"ruleId":"72","severity":1,"message":"78","line":6,"column":3,"nodeType":"74","messageId":"75","endLine":6,"endColumn":9},{"ruleId":"90","severity":1,"message":"91","line":33,"column":6,"nodeType":"92","endLine":33,"endColumn":8,"suggestions":"93"},"no-native-reassign",["94"],"no-negated-in-lhs",["95"],"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'useEffect' is defined but never used.","'IconButton' is defined but never used.","'Button' is defined but never used.","'Box' is defined but never used.","'Grid' is defined but never used.","'Card' is defined but never used.","'Menu' is defined but never used.","'socketApi' is defined but never used.","'socket' is assigned a value but never used.","'useState' is defined but never used.","import/no-anonymous-default-export","Unexpected default export of anonymous class","ExportDefaultDeclaration","Assign object to a variable before exporting as module default","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'idChat', 'listener', and 'pushMessage'. Either include them or remove the dependency array.","ArrayExpression",["96"],"no-global-assign","no-unsafe-negation",{"desc":"97","fix":"98"},"Update the dependencies array to be: [idChat, listener, pushMessage]",{"range":"99","text":"100"},[650,652],"[idChat, listener, pushMessage]"]